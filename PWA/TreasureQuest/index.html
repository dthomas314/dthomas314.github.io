<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>    
    <title>Treasure Quest</title>
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="icons/icon.svg" />
    <link rel="apple-touch-icon" href="icons/ios/CC_192x192.png" />
    <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js").then(
        (registration) => {
          console.log("Service worker registration successful:", registration);
        },
        (error) => {
          console.error(`Service worker registration failed: ${error}`);
        },
      );
    } else {
      console.error("Service workers are not supported.");
    }
    </script>
  </head>
  <body>
    <div class="container-fluid header" style="margin:0px;">
      <h1>Treasure Quest</h1>
    </div>
    <div id="main-content">
      <div id="menuArea">
        <h2>Quests</h2>
        <div id="menuCanvas"></div>
      </div>
      <div id="questArea">
        <h2 id="questName"></h2>
        <div id="canvas"></div>
        <div id="navBox">
          <button id="startCompass" class="btn btn-secondary">Start<br />Compass</button>
          <div id="noCompass">Compass<br />Unavailable</div>
          <div id="navCompass">
            <div id="navArrow"></div>
          </div>
        </div>        
      </div>      
      <div id="debug" style="display:none;"></div>
      <div id="downloadStatus" style="display:none;"></div>
    </div>
    <nav class="navbar fixed-bottom navbar-expand navbar-dark bg-dark">
      <div class="container-fluid">
          <div class="collapse navbar-collapse" id="navbarCollapse">
              <ul class="navbar-nav">
                  <li class="nav-item">
                      <a id="allQuestsBtn" class="btn btn-primary" href="javascript:" onclick="loadAllQuests();">All Quests</a>
                      <a id="restartQuestBtn" class="btn btn-primary" href="javascript:" onclick="resetQuest();">Restart Quest</a>
                      <a id="checkDBBtn" class="btn btn-primary" href="javascript:" onclick="checkDB();" style="display:none;">Check DB</a>                      
                  </li>                  
              </ul>
          </div>
          <div class="text-end" style="color:#555555;">Version 2.1.13</div>
      </div>
    </nav>
    <div id="iosInstall" class="alert alert-primary alert-dismissible fade show" role="alert">
      Install this webapp on your iPhone: tap <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR4nO2WUQ6CMAyGvyduAIlHUU+k91D0evLgBcBrzCzpkmXBKIVtMemfNBBo14+12wDTOnViVdQCD+AJ7Gold2JFIdokeVGIDhgkYbjG90PunjgniQJADOZ9suoUfWUAQJ75d0XlIoAqcjkBGuAOvJJu/wYQ+05AL2Mt1m1mqS0FCHbVAEwSvF9RgkM0E1nq6zbymZUBOCsB1oRsss1mXYa/yADc35ZgkkB/oGh1lDFGTXD/4WjV2EUD0AhEmAmNjZJc9UNiooTe942kn/X8vAsAAAAASUVORK5CYII=" alt="share-rounded" width="20px;" style="margin-bottom:8px;"> and then Add to homescreen.
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>    
    <script src="quest.js" defer></script>
    <script src="questDB.js" defer></script>
    <script src="app.js" defer></script>
    <script src="bootstrap/bootstrap.bundle.min.js"></script>
  </body>
</html>